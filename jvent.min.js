(function(a){"use strict";var b=function(){var a=this,b={},c=10;return this.addListener=this.on=function(a,d){typeof b[a]=="undefined"&&(b[a]=[]);if(b[a].length+1>c)throw"Warning: So many listeners for an event.";return b[a].push(d),a!=="newListener"&&this.emit("newListener"),this},this.once=function(a,b){var c=function(a,d){b.call(this,a,d),this.off(a.type,c)};return this.on(a,c),this},this.removeListener=this.off=function(a,c){if(b[a]instanceof Array&&c){var d=b[a],e=0,f=d.length;for(e;e<f;e+=1)if(d[e]===c){d.splice(e,1);break}}return this},this.removeAllListeners=function(a){return delete b[a],this},this.setMaxListeners=function(a){return c=a,this},this.listeners=function(a){return b[a]},this.emit=function(a,c){typeof a=="string"&&(a={type:a}),a.target||(a.target=this);if(!a.type)throw new Error("Event object missing 'type' property.");if(b[a.type]instanceof Array){var d=b[a.type],e=0,f=d.length;for(e;e<f;e+=1)d[e].call(this,a,c)}return this},this};a.jvent=a.jVent=a.jv=a.EventEmitter=b})(window)