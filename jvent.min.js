(function(e){"use strict";var t=function(){var e=this,t={},n=10;return this.addListener=this.on=function(e,r){typeof t[e]=="undefined"&&(t[e]=[]);if(t[e].length+1>n)throw"Warning: So many listeners for an event.";return t[e].push(r),e!=="newListener"&&this.emit("newListener"),this},this.once=function(e,t){var n=function(e,r){t.call(this,e,r),this.off(e.type,n)};return this.on(e,n),this},this.removeListener=this.off=function(e,n){if(t[e]instanceof Array&&n){var r=t[e],i=0,s=r.length;for(i;i<s;i+=1)if(r[i]===n){r.splice(i,1);break}}return this},this.removeAllListeners=function(e){return delete t[e],this},this.setMaxListeners=function(e){return n=e,this},this.listeners=function(e){return t[e]},this.emit=function(e){typeof e=="string"&&(arguments[0]=e={type:e}),e.target||(e.target=this);if(!e.type)throw new Error("Event object missing 'type' property.");if(t[e.type]instanceof Array){var n=t[e.type],r=0,i=n.length;for(r;r<i;r+=1)n[r].apply(this,arguments)}return this},this};e.jvent=e.jVent=e.jv=e.EventEmitter=t})(window);